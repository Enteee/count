{"version":3,"sources":["./src/app/settings/settings.module.ts","./src/app/settings/settings.page.ts","./src/app/settings/settings.page.html"],"names":[],"mappings":"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","file":"settings-settings-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule, AlertController } from '@ionic/angular';\n\nimport { NotImplementedModule } from '../not-implemented/not-implemented.module';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    NotImplementedModule,\n  ],\n  providers: [\n    AlertController,\n  ],\n  declarations: [\n    SettingsPage\n  ],\n})\nexport class SettingsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\nimport { AppState, UpdateChannel } from '../models/app-state';\nimport { AppStateService } from '../services/app-state.service';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n\n  settingsForm: FormGroup;\n  appState: AppState;\n  deployConfiguration: Promise<object>;\n\n  updateChannels = Object.keys(UpdateChannel);\n\n  constructor(\n    private route: ActivatedRoute,\n    private appStateService: AppStateService,\n    private alertController: AlertController,\n  ) { }\n\n  ngOnInit() {\n    this.appState = this.route.snapshot.data.appState as AppState;\n\n    this.settingsForm = new FormGroup({\n      vibrate: new FormControl(\n        this.appState.vibrate,\n        [\n        ]\n      ),\n      recordPosition: new FormControl(\n        this.appState.recordPosition,\n        [\n        ]\n      ),\n      disableNotImplemented: new FormControl(\n        this.appState.disableNotImplemented,\n        [\n        ]\n      ),\n      updateChannel: new FormControl(\n        this.appState.updateChannel,\n        [\n        ]\n      ),\n    });\n  }\n\n  async changeVibrate() {\n    await this.appStateService.setVibrate(\n      this.settingsForm.value.vibrate\n    );\n  }\n\n  async changeRecordPosition() {\n    try {\n      await this.appStateService.setRecordPosition(\n        this.settingsForm.value.recordPosition\n      );\n    } catch (e) {\n      const alert = await this.alertController.create({\n        header: 'Failed to enable position recording',\n        message: e.message,\n        buttons: ['OK']\n      });\n      await alert.present();\n    }\n  }\n\n  async changeDisableNotImplemented() {\n    this.appStateService.setDisableNotImplemented(\n      this.settingsForm.value.disableNotImplemented\n    );\n  }\n\n  async changeUpdateChannel() {\n    await this.appStateService.setUpdateChannel(\n      this.settingsForm.value.updateChannel\n    );\n    await this.appStateService.update('auto');\n  }\n}\n","<ion-header>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>\n      <ion-icon name=\"settings\"></ion-icon>\n      Settings\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form\n    [formGroup]=\"settingsForm\"\n  >\n    <ion-list>\n      <app-not-implemented\n        description=\"Select language\"\n        issueId=\"12\"\n      >\n        <ion-item>\n          <ion-icon slot=\"start\" name=\"text\"></ion-icon>\n          <ion-label>Language</ion-label>\n          <ion-select slot=\"end\" placeholder=\"Select One\">\n            <ion-select-option value=\"english\">English</ion-select-option>\n            <ion-select-option value=\"german\">German</ion-select-option>\n            <ion-select-option value=\"french\">French</ion-select-option>\n          </ion-select>\n        </ion-item>\n      </app-not-implemented>\n\n      <app-not-implemented\n        description=\"Toggle dark mode\"\n        issueId=\"10\"\n      >\n        <ion-item>\n          <ion-icon slot=\"start\" name=\"moon\"></ion-icon>\n          <ion-label>Dark Mode</ion-label>\n          <ion-checkbox slot=\"end\">\n          </ion-checkbox>\n        </ion-item>\n      </app-not-implemented>\n\n      <app-not-implemented\n        description=\"Switch to left-handed mode\"\n        issueId=\"14\"\n      >\n        <ion-item>\n          <ion-icon slot=\"start\" name=\"hand-left\"></ion-icon>\n          <ion-label>Left-handed mode</ion-label>\n          <ion-checkbox slot=\"end\">\n          </ion-checkbox>\n        </ion-item>\n      </app-not-implemented>\n\n      <ion-item>\n        <ion-icon slot=\"start\" name=\"pulse\"></ion-icon>\n        <ion-label>Vibrate</ion-label>\n        <ion-checkbox\n          required\n          slot=\"end\"\n          formControlName=\"vibrate\"\n          [checked]=\"appState.vibrate\"\n          (ionChange)=\"changeVibrate()\"\n        >\n        </ion-checkbox>\n      </ion-item>\n\n      <ion-item>\n        <ion-icon slot=\"start\" name=\"pin\"></ion-icon>\n        <ion-label>Record position</ion-label>\n        <ion-checkbox\n          required\n          slot=\"end\"\n          formControlName=\"recordPosition\"\n          [checked]=\"appState.recordPosition\"\n          (ionChange)=\"changeRecordPosition()\"\n        >\n        </ion-checkbox>\n      </ion-item>\n\n      <app-not-implemented\n        description=\"Enable Advertisements / Disable Fuel\"\n        issueId=\"11\"\n      >\n        <ion-item>\n          <ion-icon slot=\"start\" name=\"cash\"></ion-icon>\n          <ion-label>Enable Advertisements</ion-label>\n          <ion-checkbox\n            slot=\"end\"\n          >\n          </ion-checkbox>\n        </ion-item>\n      </app-not-implemented>\n\n      <ion-item>\n        <ion-icon slot=\"start\" name=\"construct\"></ion-icon>\n        <ion-label>Disable not implemented</ion-label>\n\n        <!--\n          Exception: we use [checked] here, because\n          the status of this checkbox might be changed by a\n          not-implemented modal, from a not-implemented control\n          on this page.\n        -->\n        <ion-checkbox\n          required\n          slot=\"end\"\n          formControlName=\"disableNotImplemented\"\n          [checked]=\"appState.disableNotImplemented\"\n          (ionChange)=\"changeDisableNotImplemented()\"\n        >\n        </ion-checkbox>\n      </ion-item>\n\n      <ion-item>\n        <ion-icon slot=\"start\" name=\"cloud-download\"></ion-icon>\n        <ion-label>Update</ion-label>\n        <ion-select\n          formControlName=\"updateChannel\"\n          slot=\"end\"\n          placeholder=\"Select One\"\n          (ionChange)=\"changeUpdateChannel()\"\n        >\n          <ion-select-option\n            *ngFor=\"let updateChannel of updateChannels\"\n            [value]=\"updateChannel\"\n          >\n            {{updateChannel}}\n          </ion-select-option>\n        </ion-select>\n      </ion-item>\n\n      <app-not-implemented\n        description=\"Save and load backup\"\n        issueId=\"15\"\n      >\n        <ion-item>\n          <ion-icon slot=\"start\" name=\"download\"></ion-icon>\n          <ion-label>Backup</ion-label>\n          <ion-button\n            expand=\"full\"\n            color=\"success\"\n          >\n            Save\n          </ion-button>\n\n          <ion-button\n            expand=\"full\"\n            color=\"danger\"\n          >\n            Restore\n          </ion-button>\n        </ion-item>\n      </app-not-implemented>\n\n      <app-not-implemented\n        description=\"Trigger a factory reset\"\n        issueId=\"16\"\n      >\n        <ion-item-sliding>\n\n          <ion-item>\n            <ion-icon slot=\"start\" name=\"trash\"></ion-icon>\n            <ion-label>Factory reset</ion-label>\n            <ion-icon slot=\"end\" name=\"arrow-back\"></ion-icon>\n          </ion-item>\n          <ion-item-options side=\"end\">\n            <ion-item-option color=\"danger\">\n              <ion-icon slot=\"icon-only\" name=\"trash\"></ion-icon>\n            </ion-item-option>\n          </ion-item-options>\n\n        </ion-item-sliding>\n      </app-not-implemented>\n\n    </ion-list>\n  </form>\n</ion-content>\n"],"sourceRoot":"webpack:///"}