<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      <ion-icon name="build"></ion-icon>
      {{counter.title}}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <form
    [formGroup]="counterSettingsForm"
    (ngSubmit)="submit()"
  >
      <ion-list>

          <ion-item>
            <ion-label position="stacked">Title</ion-label>
            <ion-input
              required
              formControlName="title"
              type="text"
              placeholder="my Counter"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">
              Plus Count
            </ion-label>
            <ion-input
              required
              formControlName="plusCount"
              type="number"
              placeholder="0"
              (ionChange)="clamp('plusCount')"
            >
              <ion-icon slot="start" name="add"></ion-icon>
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">
              Minus Count
            </ion-label>
            <ion-input
              required
              formControlName="minusCount"
              type="number"
              placeholder="0"
              (ionChange)="clamp('minusCount')"
            >
              <ion-icon slot="start" name="remove"></ion-icon>
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Positive wraparound</ion-label>
            <ion-checkbox
              slot="start"
              formControlName="positiveWrapAroundActive"
            >
            </ion-checkbox>
            <ion-input
              required
              formControlName="positiveWrapAround"
              type="number"
              placeholder="0"
              (ionChange)="clamp('positiveWrapAround', 1)"
            >
              <ion-icon slot="start" name="add"></ion-icon>
            </ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="stacked">Negative wraparound</ion-label>
            <ion-checkbox
              slot="start"
              formControlName="negativeWrapAroundActive"
            >
            </ion-checkbox>
            <ion-input
              required
              formControlName="negativeWrapAround"
              type="number"
              placeholder="0"
              (ionChange)="clamp('negativeWrapAround', 1)"
            >
              <ion-icon slot="start" name="remove"></ion-icon>
            </ion-input>
          </ion-item>

      </ion-list>

      <ion-grid>
        <ion-row>

          <ion-col>
            <ion-button
              expand="full"
              color="danger"
              (click)="discard()"
            >
              <ion-icon name="backspace"></ion-icon>
              Discard
            </ion-button>
          </ion-col>

          <ion-col>
            <ion-button
              expand="full"
              color="success"
              type="submit"
              [disabled]="!counterSettingsForm.valid"
            >
              <ion-icon name="save"></ion-icon>
              Save
            </ion-button>
          </ion-col>

        </ion-row>

        <ion-row>
          <ion-col>
            <div *ngIf="counter.locked; else elseBlock">
              <ion-button
                size="large"
                color="success"
                expand="full"
                (click)="setLocked(false)"
              >
                <ion-icon name="unlock"></ion-icon>
                Unlock
              </ion-button>
            </div>
            <ng-template #elseBlock>
              <ion-button
                size="large"
                color="medium"
                expand="full"
                (click)="setLocked(true)"
              >
                <ion-icon name="lock"></ion-icon>
                Lock
              </ion-button>
            </ng-template>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-button
              size="large"
              expand="full"
              color="medium"
              appNotImplemented description="Convert to binary counter" issueId="13" on="click"
            >
              <ion-icon name="sync"></ion-icon>
              Make binary
            </ion-button>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>

            <ion-button
              size="large"
              expand="full"
              appNotImplemented description="Add counter widget to home screen" issueId="2" on="click"
            >
              <ion-icon name="phone-portrait"></ion-icon>
              To Home Screen
            </ion-button>

          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col>
            <ion-button
              size="large"
              expand="full"
              color="warning"
              (click)="reset()"
            >
              <ion-icon name="refresh"></ion-icon>
              Reset
            </ion-button>
          </ion-col>
        </ion-row>


      </ion-grid>

  </form>
</ion-content>
